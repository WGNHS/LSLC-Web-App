<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
   <HEAD>
      <TITLE>Sample Record Table Mockup: Sample 2759</TITLE>
       <meta charset="UTF-8">
       
        <LINK href="generalStyle.css" rel='stylesheet'/>
       
       <!--Google font-->
       <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600" rel="stylesheet">
       
       

       <!-- Leaflet -->
            <!-- online -->
            <script src="https://npmcdn.com/leaflet@1.0.0-rc.3/dist/leaflet.js"></script>
           <!-- local -->  
            <script src="lib/leaflet.js"></script>

            <link rel="stylesheet" href="lib/leaflet.css" />
       <!-- Zoomify Leaflet -->
            <script type="text/javascript" src="lib/zoomify_layer.js"></script>
            <!--<script type="text/javascript" src="script/zoomify_layer.js"></script>-->
       
       <!-- JQuery  -->
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
       
       <!-- JQuery UI  -->
            <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.0/themes/smoothness/jquery-ui.css">
            <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.0/jquery-ui.min.js"></script>
       
       
       <LINK href="recordStyle.css" rel='stylesheet'/> 
       <LINK href="modalStyle.css" rel='stylesheet'/>
       
      <!-- Enable media queries for old IE -->
      <!--[if lt IE 9]>
        <script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
      <![endif]-->
       
   </HEAD>
   <BODY>
       <div id="modalBackground" class="modalBackground">
           <div id="modal-content"></div>
       </div>       
      
   
       
    <div id="wrapper">
      <h3>Sample Record</h3>
            
        
            <div id="sampleRecord"></div>
       
        
      <!-- add a project footer... -->
        <div id='footer'>
           <p> Lake Superior Legacy Collection <br/>
            Wisconsin Geological and Natural History Survey <br/>
            University of Wisconsin Extention 
           </p>
        </div>

   
    </div><!--end wrapper div-->    
       
    <script type="text/javascript">
       
        // display a table with a row for each attribute. 
        
        var samID = 2759;
        
        
        $.getJSON('data/esriResult_sample2759.json', function(data){
            console.log("data:", data);
            
        //based on the samID variable, find the object within the features array that matches that sample ID...
            var selectedSample = jQuery.grep(data.features, function(object, index){
                console.log("object.attributes.SampleId:", object.attributes.SampleId);
                var thisSampleId = object.attributes.SampleId;
                console.log("thisSampleId", thisSampleId);
                return(thisSampleId === samID);
            });
            console.log("selectedSample[0].attributes:", selectedSample[0].attributes);
       
            
            //build the sections and divs to contain report information...
            addTable( selectedSample[0].attributes);
           
            
        }); //end getJSON
       
        
        
        function addTable(sample){
            console.log("build table for sample ID ",sample.SampleId); 
            
            var SampleIdh2 = $('<h2></h2>').html("Sample #"+sample.SampleId); 
            
            var sampleTable = $('<table></table>');
            
             populateTable(sampleTable, sample);
            
            //append all elements to the sample record div. 
            //minimize the .append() calls to maximize performance. 
            $('#sampleRecord').append(SampleIdh2, sampleTable);
            
           
        } //end addTable 
        
        function populateTable(sampleTable, sample){
            console.log("sample:", sample);
            for (i in sample) {
                sampleTable.append($('<tr></tr>').html('<td>'+i+'</td>'+'<td>'+sample[i]+'</td>'));
            }
            
        } //end populate Table function
        
   </script>   
        <script src="modal.js"></script>
   </BODY>
</HTML>